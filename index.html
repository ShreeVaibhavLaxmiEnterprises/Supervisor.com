<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nirmal Enterprise - Full Manager</title>
    <style>
        /* --- DESIGN SETTINGS --- */
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0f4f8;
            margin: 0;
            padding: 0;
            padding-bottom: 80px; /* Jagah neeche ke buttons ke liye */
        }

        /* HEADER */
        .header {
            background-color: #1a237e; /* Deep Blue */
            color: white;
            padding: 15px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .header h2 { margin: 0; font-size: 22px; }
        .header p { margin: 2px 0 0; font-size: 13px; opacity: 0.8; }

        /* CONTAINER */
        .container {
            padding: 15px;
            max-width: 600px;
            margin: 0 auto;
        }

        /* PAGES (SECTIONS) */
        .page-section {
            display: none;
            animation: fadeIn 0.3s;
        }
        .active-section {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* CARD STYLE */
        .card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border-left: 5px solid #1a237e;
        }

        /* FORM INPUTS */
        label { font-weight: bold; color: #333; display: block; margin-top: 10px; }
        input, select {
            width: 100%;
            padding: 12px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
        }
        
        /* BUTTONS */
        .btn-main {
            width: 100%;
            padding: 12px;
            background-color: #28a745; /* Green */
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
            margin-top: 15px;
            cursor: pointer;
        }
        .btn-blue { background-color: #1a237e; }

        /* WORKER LIST ITEM STYLE */
        .worker-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #eee;
            padding: 10px 0;
        }
        .worker-info h4 { margin: 0; color: #333; }
        .worker-info p { margin: 2px 0 0; color: #666; font-size: 14px; }
        .worker-rate {
            background: #e8f5e9;
            color: #2e7d32;
            padding: 5px 10px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 14px;
        }

        /* RESULT BOX (HISAB) */
        .result-box {
            background: #fff;
            border: 2px dashed #1a237e;
            padding: 15px;
            margin-top: 20px;
            display: none;
        }
        .result-row { display: flex; justify-content: space-between; margin-bottom: 5px; }
        .total-text { font-size: 18px; font-weight: bold; color: #c62828; border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; }

        /* BOTTOM NAVIGATION BAR */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: white; border-top: 1px solid #ddd;
            display: flex; justify-content: space-around;
            padding: 10px 0; z-index: 100;
        }
        .nav-btn {
            text-align: center; color: #777; cursor: pointer; flex: 1;
        }
        .nav-btn.active { color: #1a237e; font-weight: bold; }
        .nav-icon { font-size: 22px; display: block; }

        /* Print Settings */
        @media print {
            .bottom-nav, .header, .input-area { display: none; }
            .result-box { display: block !important; border: none; }
        }
    </style>
</head>
<body>

    <div class="header">
        <h2>Nirmal Enterprise</h2>
        <p>Shuttering Contractor Manager</p>
    </div>

    <div class="container">

        <div id="page-home" class="page-section active-section">
            <h3 style="color: #444;">Welcome, Boss!</h3>
            
            <div class="card">
                <h3>üë∑ Total Workers</h3>
                <p>Aapke paas abhi registered workers hain.</p>
                <h1 style="margin: 10px 0; color: #1a237e;">04</h1>
            </div>

            <div class="card" onclick="switchTab('workers')" style="cursor: pointer;">
                <h3>‚ûï Naya Worker Add Karein</h3>
                <p>Click here to register new labour.</p>
            </div>
        </div>

        <div id="page-workers" class="page-section">
            <h3 style="color: #444;">Worker Management</h3>

            <div class="card">
                <h4 style="margin-top:0;">Naya Worker Jodein:</h4>
                <input type="text" id="wName" placeholder="Worker ka Naam (Ex: Raju)">
                <input type="number" id="wPhone" placeholder="Mobile Number">
                <select id="wType">
                    <option value="Carpenter">Carpenter (Mistri)</option>
                    <option value="Helper">Helper (Labour)</option>
                </select>
                <input type="number" id="wRate" placeholder="Dihadi Rate (Ex: 800)">
                <button class="btn-main btn-blue" onclick="addWorker()">Save Worker</button>
            </div>

            <h4 style="margin-bottom: 10px;">Registered Workers List:</h4>
            <div class="card" id="workerListArea">
                <div class="worker-item">
                    <div class="worker-info">
                        <h4>Raju Mistri</h4>
                        <p>üì± 9876543210 | Carpenter</p>
                    </div>
                    <div class="worker-rate">‚Çπ800/day</div>
                </div>
                <div class="worker-item">
                    <div class="worker-info">
                        <h4>Shyam Lal</h4>
                        <p>üì± 9123456789 | Helper</p>
                    </div>
                    <div class="worker-rate">‚Çπ500/day</div>
                </div>
            </div>
        </div>

        <div id="page-hisab" class="page-section">
            <h3 style="color: #444;">Payment Hisab</h3>
            
            <div class="card input-area">
                <label>Worker Select Karein:</label>
                <select id="hisabWorkerSelect">
                    <option value="800">Raju Mistri (Rate: 800)</option>
                    <option value="500">Shyam Lal (Rate: 500)</option>
                </select>

                <div style="display: flex; gap: 10px;">
                    <div style="flex:1">
                        <label>Kab Se:</label>
                        <input type="date">
                    </div>
                    <div style="flex:1">
                        <label>Kab Tak:</label>
                        <input type="date">
                    </div>
                </div>

                <label>Kul Haziri (Days):</label>
                <input type="number" id="hisabDays" placeholder="Total Din">

                <label>Advance Liya (‚Çπ):</label>
                <input type="number" id="hisabAdvance" placeholder="0">

                <button class="btn-main" onclick="calculateHisab()">Calculate Payment</button>
            </div>

            <div id="resultDisplay" class="result-box">
                <h3 style="text-align: center; margin-top:0;">Payment Slip</h3>
                <div class="result-row"><span>Rate:</span> <span id="rRate">0</span></div>
                <div class="result-row"><span>Days:</span> <span id="rDays">0</span></div>
                <div class="result-row"><span>Total:</span> <span id="rTotal">0</span></div>
                <div class="result-row" style="color:red;"><span>(-) Advance:</span> <span id="rAdvance">0</span></div>
                <div class="result-row total-text"><span>NET PAYABLE:</span> <span id="rNet">0</span></div>
                
                <button onclick="window.print()" style="width:100%; margin-top:15px; padding:10px; background:#555; color:white; border:none;">Print Receipt</button>
            </div>
        </div>

    </div>

    <div class="bottom-nav">
        <div class="nav-btn active" id="btn-home" onclick="switchTab('home')">
            <span class="nav-icon">üè†</span>
            <span>Home</span>
        </div>
        <div class="nav-btn" id="btn-workers" onclick="switchTab('workers')">
            <span class="nav-icon">üë∑</span>
            <span>Workers</span>
        </div>
        <div class="nav-btn" id="btn-hisab" onclick="switchTab('hisab')">
            <span class="nav-icon">üßÆ</span>
            <span>Hisab</span>
        </div>
    </div>

    <script>
        // 1. TAB SWITCHING FUNCTION
        function switchTab(tabName) {
            // Hide all pages
            document.querySelectorAll('.page-section').forEach(page => page.classList.remove('active-section'));
            // Remove active class from buttons
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));

            // Show selected page
            document.getElementById('page-' + tabName).classList.add('active-section');
            document.getElementById('btn-' + tabName).classList.add('active');
        }

        // 2. ADD WORKER FUNCTION
        function addWorker() {
            var name = document.getElementById('wName').value;
            var phone = document.getElementById('wPhone').value;
            var type = document.getElementById('wType').value;
            var rate = document.getElementById('wRate').value;

            if(name === "" || rate === "") {
                alert("Naam aur Rate likhna zaroori hai!");
                return;
            }

            // Create HTML for new worker
            var newWorkerHTML = `
                <div class="worker-item">
                    <div class="worker-info">
                        <h4>${name}</h4>
                        <p>üì± ${phone} | ${type}</p>
                    </div>
                    <div class="worker-rate">‚Çπ${rate}/day</div>
                </div>
            `;

            // Add to the list
            var listArea = document.getElementById('workerListArea');
            listArea.innerHTML += newWorkerHTML;

            // Add to dropdown list in Hisab section also
            var selectMenu = document.getElementById('hisabWorkerSelect');
            var option = document.createElement("option");
            option.text = name + " (Rate: " + rate + ")";
            option.value = rate;
            selectMenu.add(option);

            alert("Worker Save Ho Gaya!");
            
            // Clear inputs
            document.getElementById('wName').value = "";
            document.getElementById('wPhone').value = "";
            document.getElementById('wRate').value = "";
        }

        // 3. HISAB CALCULATION FUNCTION
        function calculateHisab() {
            var rate = parseInt(document.getElementById('hisabWorkerSelect').value);
            var days = parseInt(document.getElementById('hisabDays').value);
            var advance = document.getElementById('hisabAdvance').value;

            if(isNaN(days)) {
                alert("Please haziri ke din bharein.");
                return;
            }
            if(advance === "") advance = 0;
            else advance = parseInt(advance);

            var total = rate * days;
            var net = total - advance;

            // Show Results
            document.getElementById('rRate').innerText = "‚Çπ" + rate;
            document.getElementById('rDays').innerText = days;
            document.getElementById('rTotal').innerText = "‚Çπ" + total;
            document.getElementById('rAdvance').innerText = "‚Çπ" + advance;
            document.getElementById('rNet').innerText = "‚Çπ" + net;

            document.getElementById('resultDisplay').style.display = "block";
        }
    </script>

</body>
  </html>
